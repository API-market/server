{
	"info": {
		"_postman_id": "5ce06be5-fdd9-40e1-a8be-5a4077b5a690",
		"name": "simple_test",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Create first user",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc5531f9-49b3-4c08-8561-fedcd71db922",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is OK (200)\"] = responseCode.code === 200",
							"",
							"pm.test(\"user id \", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.user_id).to.equal(2)",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"eos\" : \"123321\",\r\n  \"firstName\" : \"Robert\",\r\n  \"lastName\" : \"De Niro\",\r\n  \"email\" : \"tester7@lumeos.io\",\r\n  \"phone\" : \"1234\",\r\n  \"dob\" : \"19850423\",\r\n  \"gender\" : \"male\",\r\n  \"address\" : {\r\n    \"city\" : \"Brooklyn\",\r\n    \"region\" : \"NY\",\r\n    \"postalCode\" : \"11235\",\r\n    \"street\" : \"123 Lol What Street Apt. 2B\"\r\n  },\r\n  \"school\" : \"Lol What State University\",\r\n  \"employer\" : \"Uncle Sam\",\r\n  \"password\" : \"testing1\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/users",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"users"
					]
				},
				"description": "Creates the first user and checks user id is 1"
			},
			"response": []
		},
		{
			"name": "Validate first user",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "cb450354-5900-4fed-b1f3-69c976e75cf4",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is ok\"] = responseCode.code === 200",
							"",
							"tests[\"Email field is present\"] = responseBody.has(\"email\");",
							"tests[\"firstName field is present\"] = responseBody.has(\"firstName\");",
							"tests[\"lastName field is present\"] = responseBody.has(\"lastName\");",
							"tests[\"DOB field is present\"] = responseBody.has(\"dob\");",
							"tests[\"Gender field is present\"] = responseBody.has(\"gender\");",
							"tests[\"School field is present\"] = responseBody.has(\"school\");",
							"tests[\"Employer field is present\"] = responseBody.has(\"employer\");",
							"tests[\"Eos field is present\"] = responseBody.has(\"eos\");",
							"",
							"pm.test(\"check fields not null\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.email).to.not.equal(\"\");",
							"    pm.expect(jsonData.firstName).to.not.eql(\"\");",
							"    pm.expect(jsonData.lastName).to.not.eql(\"\");",
							"    pm.expect(jsonData.phone).to.not.eql(\"\");",
							"    pm.expect(jsonData.dob).to.not.eql(\"\");",
							"    pm.expect(jsonData.gender).to.not.eql(\"\");",
							"    pm.expect(jsonData.school).to.not.eql(\"\");",
							"    pm.expect(jsonData.employer).to.not.eql(\"\");",
							"    pm.expect(jsonData.balance).to.not.eql(\"\");",
							"});",
							"",
							"pm.test(\"Test field values.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.email).to.equal(\"tester7@lumeos.io\");",
							"    pm.expect(jsonData.firstName).to.eql(\"Robert\");",
							"    pm.expect(jsonData.lastName).to.eql(\"De Niro\");",
							"    pm.expect(jsonData.phone).to.eql(\"1234\");",
							"    pm.expect(jsonData.dob).to.eql(\"19850423\");",
							"    pm.expect(jsonData.gender).to.eql(\"male\");",
							"    pm.expect(jsonData.school).to.eql(\"Lol What State University\");",
							"    pm.expect(jsonData.employer).to.eql(\"Uncle Sam\");",
							"    pm.expect(jsonData.balance).to.eql(500);",
							"    pm.expect(jsonData.eos).to.eql(\"123321\");",
							"    pm.expect(jsonData.address.street).to.eql(\"123 Lol What Street Apt. 2B\");",
							"    pm.expect(jsonData.address.city).to.eql(\"Brooklyn\");",
							"    pm.expect(jsonData.address.region).to.eql(\"NY\");",
							"    pm.expect(jsonData.address.postalCode).to.eql(\"11235\");",
							"});",
							"",
							"// TODO: more accurate schema validation of email, DOB, phone etc.",
							"",
							"var schema = {",
							"    \"type\" : \"object\",",
							"    \"properties\" : {",
							"              \"eos\": {\"type\" : \"string\" } ,",
							"              \"email\": {\"type\" : \"string\" } ,",
							"              \"firstName\" : {\"type\" : \"string\" } ,",
							"              \"lastName\" : {\"type\" : \"string\" } ,",
							"              \"phone\" : {\"type\" : \"string\" } ,",
							"              \"dob\" : {\"type\" : \"string\" } ,",
							"              \"gender\" : {\"type\" : \"string\" } ,",
							"              \"school\" : {\"type\" : \"string\" } ,",
							"              \"employer\" : {\"type\" : \"string\" } ",
							"        },",
							"   // \"required\": [ \"email\", \"firstName\", \"lastName\", \"phone\", \"dob\", \"gender\",\"school\",\"employer\"]",
							"};",
							"",
							"pm.test('Schema is valid', function() {",
							"  var jsonData = pm.response.json();",
							"  pm.expect(tv4.validate(jsonData, schema)).to.be.true;",
							"});",
							"",
							"console.log(tv4.error);  ",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "62bef184-6be7-4c86-ae7e-8c469b6a4e57",
						"type": "text/javascript",
						"exec": [
							"// TODO: set JWT in environment after log in, so can be used in the test automatically ",
							"",
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/users/2/",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"users",
						"2",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Check admin exists",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "15c92839-87cc-4051-986c-41ae82f59e67",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is ok\"] = responseCode.code === 200",
							"",
							"",
							"pm.test(\"check fields not null\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.email).to.equal(\"admin@lumeos.io\");",
							"    pm.expect(jsonData.balance).to.equal(500);",
							"});",
							"",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "a415ab9f-4350-4e97-80ab-47dbb805391f",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/users/1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"users",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "Poll not found",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ae1bbfe7-e7c6-4543-b5a0-6460e4cb464e",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Not Found (404)\"] = responseCode.code === 404",
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"pm.test(\"validate poll id\", function () {",
							"    pm.expect(jsonData.error).to.eql(\"Not Found\");",
							"    pm.expect(jsonData.message).to.eql(\"Poll not found\");",
							"})",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/0",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"0"
					]
				},
				"description": "Poll with id 0 doesn't exist"
			},
			"response": []
		},
		{
			"name": "User not found",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "58fedcfc-1518-4ba2-a3ed-c534169c9c1c",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Not Found (404)\"] = responseCode.code === 404",
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"pm.test(\"validate user id\", function () {",
							"    pm.expect(jsonData.error).to.eql(\"Not Found\");",
							"    pm.expect(jsonData.message).to.eql(\"Users table doesn\\'t exist\");",
							"})",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/users/0",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"users",
						"0"
					]
				},
				"description": "User Id 0 doesn't exist"
			},
			"response": []
		},
		{
			"name": "Create poll 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f2432186-6c7c-44ca-9246-a1fdf8f97ede",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is OK (200)\"] = responseCode.code === 200",
							"",
							"pm.test(\"poll_id returned on creation\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.poll_id).to.equal(1)",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"question\" : \"Who runs the world\",\r\n\t\"answers\" : [\"Girls\", \"Squirrels\"],\r\n\t\"tags\" : [\"lol\", \"what\"],\r\n\t\"creator_id\" : 2\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls"
					]
				},
				"description": "Create first poll and check poll_id = 1"
			},
			"response": []
		},
		{
			"name": "Create poll 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "789d99b6-db99-41a6-b8b9-35d313718c26",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is OK (200)\"] = responseCode.code === 200",
							"",
							"pm.test(\"poll_id returned on creation\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.poll_id).to.equal(2)",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"question\" : \"What is the meaning of life?\",\r\n\t\"answers\" : [\"Power\", \"Sex\"],\r\n\t\"tags\" : [\"Daniel\", \"Carnegie\"],\r\n\t\"creator_id\" : 1\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls"
					]
				},
				"description": "Create second poll and check poll_id returned = 2"
			},
			"response": []
		},
		{
			"name": "List All Polls",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f9866bc4-7ea7-42f1-ab53-04b73e062c22",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"pm.test(\"Test length of the response.\", function() {",
							"    const jsonData = pm.response.json();",
							"    pm.expect(jsonData.length).to.equal(2);",
							"});",
							"",
							"pm.test(\"Test field values.\", function () {",
							"    const jsonData = pm.response.json();",
							"    let index = 0;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(1);",
							"    pm.expect(jsonData[index].question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(0);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(2);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"    ",
							"    index = 1;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Power\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Sex\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"Daniel\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"Carnegie\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(2);",
							"    pm.expect(jsonData[index].question).to.equal(\"What is the meaning of life?\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(0);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(1);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"    ",
							"    ",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						""
					]
				},
				"description": "List polls created"
			},
			"response": []
		},
		{
			"name": "List polls queryCreator",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d38ff965-0fee-4a87-a42b-9e09b22ccd23",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"var jsonData = pm.response.json();",
							"",
							"pm.test(\"Test length of the response.\", function() {",
							"    const jsonData = pm.response.json();",
							"    pm.expect(jsonData.length).to.equal(1);",
							"});",
							"",
							"pm.test(\"Test field values.\", function () {",
							"    var jsonData = pm.response.json();",
							"    const index = 0;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(1);",
							"    pm.expect(jsonData[index].question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(0);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(2);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/?queryCreator=2",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						""
					],
					"query": [
						{
							"key": "queryCreator",
							"value": "2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Answer poll",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "599e461c-03b0-4cf5-a344-c4f92fbaf814",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is OK (204)\"] = responseCode.code === 204",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"user_id\" : 2,\r\n\t\"answer\" : 0\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "List All Polls, one answered",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8159b8f8-3b43-4746-b44e-a5d353f6cd8f",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test length of the response.\", function() {",
							"    pm.expect(jsonData.length).to.equal(2);",
							"});",
							"",
							"pm.test(\"Check price and participant count, of answred poll\", function() {",
							"    const index = 0;",
							"    pm.expect(jsonData[index].participant_count).to.equal(1);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"});",
							"",
							"pm.test(\"Test field values.\", function () {",
							"    let index = 0;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(1);",
							"    pm.expect(jsonData[index].question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(1);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(2);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"    ",
							"    index = 1;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Power\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Sex\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"Daniel\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"Carnegie\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(2);",
							"    pm.expect(jsonData[index].question).to.equal(\"What is the meaning of life?\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(0);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(1);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"    ",
							"    ",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Query specific poll",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f1ad98a0-97e2-4f8b-a9b6-6c25ef765796",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test field values with answered\", function () {",
							"    pm.expect(jsonData.answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData.answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData.tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData.tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData.poll_id).to.equal(1);",
							"    pm.expect(jsonData.question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData.participant_count).to.equal(1);",
							"    pm.expect(jsonData.price).to.equal(0);",
							"    pm.expect(jsonData.creator_id).to.equal(2);",
							"    pm.expect(jsonData.creator_image).to.include(\"profile_default_image.png\");",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query specific poll with isAnswered ",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "19237566-4796-4837-ae24-0562582250c4",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test field values with answered\", function () {",
							"    pm.expect(jsonData.answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData.answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData.tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData.tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData.poll_id).to.equal(1);",
							"    pm.expect(jsonData.question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData.participant_count).to.equal(1);",
							"    pm.expect(jsonData.price).to.equal(0);",
							"    pm.expect(jsonData.creator_id).to.equal(2);",
							"    pm.expect(jsonData.creator_image).to.include(\"profile_default_image.png\");",
							"     pm.expect(jsonData.is_answered).to.equal(1);",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/1?isAnswered=2",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"1"
					],
					"query": [
						{
							"key": "isAnswered",
							"value": "2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Query specific poll with isAnswered, for unrelated user",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "17700c68-48e9-4e24-a7b1-33ea12c3badf",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test field values with answered\", function () {",
							"    pm.expect(jsonData.answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData.answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData.tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData.tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData.poll_id).to.equal(1);",
							"    pm.expect(jsonData.question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData.participant_count).to.equal(1);",
							"    pm.expect(jsonData.price).to.equal(0);",
							"    pm.expect(jsonData.creator_id).to.equal(2);",
							"    pm.expect(jsonData.creator_image).to.include(\"profile_default_image.png\");",
							"     pm.expect(jsonData.is_answered).to.equal(0);",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/1?isAnswered=1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"1"
					],
					"query": [
						{
							"key": "isAnswered",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "queryFeatured=1 polls",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1e8c138b-1069-429d-ad74-a85fd9533fb4",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test field values\", function () {",
							"    const index = 0;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Girls\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Squirrels\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"lol\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"what\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(1);",
							"    pm.expect(jsonData[index].question).to.equal(\"Who runs the world\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(1);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(2);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/?queryFeatured=1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						""
					],
					"query": [
						{
							"key": "queryFeatured",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "queryFeatured=2 polls",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "aa4d39cd-b6cf-471b-b166-127e63648492",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is Ok (200)\"] = responseCode.code === 200",
							"",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test field values\", function () {",
							"    const index = 0;",
							"    pm.expect(jsonData[index].answers[0]).to.equal(\"Power\");",
							"    pm.expect(jsonData[index].answers[1]).to.equal(\"Sex\");",
							"    pm.expect(jsonData[index].tags[0]).to.equal(\"Daniel\");",
							"    pm.expect(jsonData[index].tags[1]).to.equal(\"Carnegie\");",
							"    pm.expect(jsonData[index].poll_id).to.equal(2);",
							"    pm.expect(jsonData[index].question).to.equal(\"What is the meaning of life?\");",
							"    pm.expect(jsonData[index].participant_count).to.equal(0);",
							"    pm.expect(jsonData[index].price).to.equal(0);",
							"    pm.expect(jsonData[index].creator_id).to.equal(1);",
							"    pm.expect(jsonData[index].creator_image).to.include(\"profile_default_image.png\");",
							"});",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "83bdf683-b340-43a4-a6e8-43cd034cd4c1",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });",
							"",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/?queryFeatured=2",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						""
					],
					"query": [
						{
							"key": "queryFeatured",
							"value": "2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Buy Poll/Get result",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f1cd32d2-ee8a-4219-8add-408f06cbbb5b",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is OK (200)\"] = responseCode.code === 200",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test fields returned\", function () {",
							"    pm.expect(jsonData.poll_id).to.equal(1);",
							"    pm.expect(jsonData.question).to.equal(\"Who runs the world\");",
							"    const index = 0;",
							"    pm.expect(jsonData.answers[\"Girls\"]).to.equal(1);",
							"    pm.expect(jsonData.answers[\"Squirrels\"]).to.equal(0);",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"user_id\" : 1\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/1/results",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"1",
						"results"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check buyers balance",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "18779a35-9218-43f3-9bec-d6b6e0e1e89c",
						"type": "text/javascript",
						"exec": [
							"tests[\"Status is ok\"] = responseCode.code === 200",
							"",
							"const jsonData = pm.response.json();",
							"pm.test(\"check fields\", function () {",
							"    pm.expect(jsonData.email).to.equal(\"admin@lumeos.io\");",
							"    pm.expect(jsonData.balance).to.equal(500);",
							"});",
							"",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "a415ab9f-4350-4e97-80ab-47dbb805391f",
						"type": "text/javascript",
						"exec": [
							"// pm.environment.set(\"admin_email\", \"admin@lumeos.io\");",
							"// pm.environment.set(\"admin_pw\", \"test\");",
							"",
							"// pm.sendRequest({",
							"//     url: 'localhost:8081/v1/login',",
							"//     method: 'POST',",
							"//     header: {",
							"//         'content-type': 'application/json',",
							"//     },",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({ email: pm.environment.get(\"admin_email\"), password: pm.environment.get(\"admin_pw\") })",
							"//     }",
							"// }, function (err, res) {",
							"//     pm.environment.set(\"authorization\", \"Bearer \" + res.json().token);",
							"// });"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n  \"email\" : \"admin@lumeos.io\",\r\n  \"password\" : \"test\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/users/1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"users",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create profile image",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6b22f144-bf2c-4e8c-9be4-8239b9d1c0fc",
						"type": "text/javascript",
						"exec": [
							"tests[\"200 OK\"] = responseCode.code === 200",
							"",
							"pm.test(\"Validated user_id returned\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.user_id).to.equal(1)",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"user_id\" : 1,\r\n\t\"image\" : \"R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/profile_images/",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"profile_images",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Get profile image",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "796737b7-4f84-46a0-9431-0b0f4ce813dc",
						"type": "text/javascript",
						"exec": [
							"tests[\"200 OK\"] = responseCode.code === 200",
							"",
							"tests[\"createdAt field is present\"] = responseBody.has(\"createdAt\");",
							"tests[\"updatedAt field is present\"] = responseBody.has(\"updatedAt\");",
							"",
							"pm.test(\"Validate image\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.user_id).to.equal(1);",
							"    pm.expect(jsonData.image).to.include(\"profile_images_undefined1\");",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"user_id\" : 1,\r\n\t\"image\" : \"R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/profile_images/1",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"profile_images",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "Buy Poll/Get result of non-existent poll",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0b619f40-33f3-4441-ab15-13468cd99916",
						"type": "text/javascript",
						"exec": [
							"tests[\"404 Not Found\"] = responseCode.code === 404",
							"",
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Test fields returned\", function () {",
							"    pm.expect(jsonData.error).to.equal(\"Not Found\");",
							"    pm.expect(jsonData.message).to.equal(\"Poll not found\");",
							"});",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "6d397378-0dca-4696-b2a7-50d10e206e43",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE1MzExMDgyNzd9.Cueh9jtZLBA5MPz7xcLMr1cV9dNLTEas8Xx1Nxa6IIg",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"user_id\" : 1\r\n}"
				},
				"url": {
					"raw": "localhost:8081/v1/polls/100/results",
					"host": [
						"localhost"
					],
					"port": "8081",
					"path": [
						"v1",
						"polls",
						"100",
						"results"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6d7a84a1-026a-4804-90a2-62fb6deeb53c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "42913e52-0492-44d5-8898-9574122c4006",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}